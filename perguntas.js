const perguntas = [
    {
        pergunta: "Uma das metas do ODS 13 (Ação Contra a Mudança Global do Clima) é integrar medidas de mudança climática nas políticas, estratégias e planejamentos nacionais.",
        respostaCorreta: "A",
        opcoes: [
            "Verdadeiro",
            "Falso"
        ]
    },
    {
        pergunta: "O ODS 10 (Redução das Desigualdades) busca: ",
        respostaCorreta: "C",
        opcoes: [
            "Reduzir desigualdades econômicas apenas dentro dos países",
            "Promover igualdade de renda entre todos os países",
            "Reduzir as desigualdades dentro e entre os países",
            "Garantir educação de qualidade para todos"
        ]
    },
    {
        pergunta: "ODS 7 (Energia Limpa e Acessível) não se preocupa com a eficiência energética, focando apenas em aumentar a produção de energia renovável.",
        respostaCorreta: "B",
        opcoes: [
            "Verdadeiro",
            "Falso"
        ]
    },
    {
        pergunta: "Qual dessas alternativas descreve corretamente uma meta do ODS 15 (Vida Terrestre)?",
        respostaCorreta: "B",
        opcoes: [
            "Eliminar todas as emissões de CO₂ até 2030",
            "Tomar medidas urgentes para combater a degradação da terra e a perda de biodiversidade",
            "Garantir acesso universal à saúde",
            "Reduzir as desigualdades econômicas em áreas rurais"
        ]
    },
    {
        pergunta: "O ODS 4 (Educação de Qualidade) inclui metas que visam aumentar o número de jovens e adultos com habilidades relevantes para o mercado de trabalho.",
        respostaCorreta: "A",
        opcoes: [
            "Verdadeiro",
            "Falso"
        ]
    },
    {
        pergunta: "O ODS 12 (Consumo e Produção Responsáveis) inclui uma meta para reduzir pela metade o desperdício global de alimentos per capita em nível de varejo e consumidor.",
        respostaCorreta: "A",
        opcoes: [
            "Verdadeiro",
            "Falso"
        ]
    },
    {
        pergunta: "O ODS 5 (Igualdade de Gênero) visa: ",
        respostaCorreta: "B",
        opcoes: [
            "Garantir igualdade apenas nas oportunidades de emprego",
            "Acabar com todas as formas de discriminação contra mulheres e meninas em todos os lugares",
            "Garantir igualdade de gênero apenas em países em desenvolvimento",
            "Promover igualdade de gênero na educação básica"
        ]
    },
    {
        pergunta: "O ODS 1 (Erradicação da Pobreza) visa não apenas a erradicação da pobreza extrema, mas também a criação de sistemas de proteção social.",
        respostaCorreta: "A",
        opcoes: [
            "Verdadeiro",
            "Falso"
        ]
    },
    {
        pergunta: "Qual das alternativas é uma meta do ODS 9 (Indústria, Inovação e Infraestrutura)?",
        respostaCorreta: "B",
        opcoes: [
            "Proporcionar trabalho decente e inclusivo",
            "Modernizar a infraestrutura e adaptar as indústrias para torná-las sustentáveis",
            "Reduzir a poluição do ar nas grandes cidades",
            "Promover a igualdade de gênero na indústria"
        ]
    },
    {
        pergunta: "O ODS 6 (Água Potável e Saneamento) busca garantir o acesso universal à água potável, mas não inclui metas para a gestão sustentável dos recursos hídricos.",
        respostaCorreta: "B",
        opcoes: [
            "Verdadeiro",
            "Falso"
        ]
    },
    {
        pergunta: "O ODS 8 (Trabalho Decente e Crescimento Econômico) incentiva: ",
        respostaCorreta: "B",
        opcoes: [
            "Apenas a criação de empregos formais",
            "O crescimento econômico inclusivo e sustentável, além do trabalho decente para todos",
            "O desenvolvimento de tecnologias verdes",
            "Garantir acesso à educação superior para todos"
        ]
    },
    {
        pergunta: "Uma das metas do ODS 11 (Cidades e Comunidades Sustentáveis) é melhorar a mobilidade urbana, incluindo o acesso a sistemas de transporte seguros, acessíveis e sustentáveis.",
        respostaCorreta: "A",
        opcoes: [
            "Verdadeiro",
            "Falso"
        ]
    },
    {
        pergunta: "Qual é um dos focos principais do ODS 2 (Fome Zero e Agricultura Sustentável)?",
        respostaCorreta: "C",
        opcoes: [
            "Reduzir o desperdício de água em áreas urbanas",
            "Garantir uma vida saudável e promover o bem-estar",
            "Acabar com a fome e promover a agricultura sustentável",
            "Incentivar o uso de energias renováveis na agricultura"
        ]
    },
    {
        pergunta: "O ODS 14 (Vida na Água) inclui metas para a redução da poluição marinha e a conservação de ecossistemas costeiros e marinhos.",
        respostaCorreta: "A",
        opcoes: [
            "Verdadeiro",
            "Falso"
        ]
    },
    {
        pergunta: "Qual das alternativas está alinhada com o ODS 16 (Paz, Justiça e Instituições Eficazes)?",
        respostaCorreta: "B",
        opcoes: [
            "Garantir acesso a água potável para todos",
            "Promover sociedades pacíficas e inclusivas e garantir o acesso à justiça",
            "Erradicar a fome nas áreas rurais",
            "Garantir igualdade salarial entre homens e mulheres"
        ]
    },
    {
        pergunta: "Qual ODS busca garantir uma vida saudável e promover o bem-estar para todos, em todas as idades?",
        respostaCorreta: "A",
        opcoes: [
            "ODS 3 - Saúde e Bem-Estar",
            "ODS 2 - Fome Zero e Agricultura Sustentável",
            "ODS 5 - Igualdade de Gênero",
            "ODS 7 - Energia Limpa e Acessível"
        ]
    },
    {
        pergunta: "O ODS 4 (Educação de Qualidade) tem como principal objetivo:",
        respostaCorreta: "B",
        opcoes: [
            "Aumentar a quantidade de escolas públicas no mundo",
            "Garantir que todos os jovens e adultos tenham habilidades relevantes para o mercado de trabalho",
            "Financiar exclusivamente a educação privada",
            "Expandir o ensino superior em países desenvolvidos"
        ]
    },
    {
        pergunta: "Qual ODS está focado em melhorar as condições de trabalho e incentivar o crescimento econômico sustentável?",
        respostaCorreta: "B",
        opcoes: [
            "ODS 6 - Água Potável e Saneamento",
            "ODS 8 - Trabalho Decente e Crescimento Econômico",
            "ODS 9 - Indústria, Inovação e Infraestrutura",
            "ODS 12 - Consumo e Produção Responsáveis"
        ]
    },
    {
        pergunta: "O ODS 17 (Parcerias e Meios de Implementação) tem como objetivo principal:",
        respostaCorreta: "B",
        opcoes: [
            "Aumentar a quantidade de recursos naturais em áreas não exploradas",
            "Revitalizar a parceria global para o desenvolvimento sustentável e aumentar a cooperação internacional",
            "Criar acordos comerciais internacionais que ignorem questões ambientais",
            "Focar apenas em acordos financeiros entre países desenvolvidos"
        ]
    },
    {
        pergunta: "Qual é uma das metas do ODS 6 (Água Potável e Saneamento)?",
        respostaCorreta: "B",
        opcoes: [
            "Criar indústrias de tratamento de resíduos",
            "Garantir que todos tenham acesso à água potável e a serviços de saneamento",
            "Investir exclusivamente em tecnologias de dessalinização",
            "Incentivar a mineração em áreas com recursos hídricos"
        ]
    }
];

let perguntasDisponiveis = [...perguntas];
let indicePerguntaAtual = 0;
let respostasCorretas = 0;
let clicou = false;

// Função para embaralhar perguntas
function embaralharPerguntas() {
    perguntasDisponiveis = perguntasDisponiveis.sort(() => Math.random() - 0.5);
}

// Exibir a próxima pergunta
function exibirPergunta() {
    clicou = false;
    const pergunta = perguntasDisponiveis[indicePerguntaAtual];
    document.getElementById('question').textContent = pergunta.pergunta;
    document.getElementById('steps').textContent = `${indicePerguntaAtual + 1} de ${4}`;

    // Exibir as opções de resposta
    const opcoes = pergunta.opcoes;
    document.getElementById('labelA').textContent = opcoes[0];
    document.getElementById('labelB').textContent = opcoes[1];
    document.getElementById('labelC').textContent = opcoes[2] || '';
    document.getElementById('labelD').textContent = opcoes[3] || '';
    if (opcoes[2] === undefined){
        document.getElementById('labelC').style.display = 'none';
        document.getElementById('labelD').style.display = 'none';
    } else {
        document.getElementById('labelC').style.display = 'block';
        document.getElementById('labelD').style.display = 'block';
    }

    // Resetar os radio buttons e estilos
    document.querySelectorAll('input[type="radio"]').forEach(input => input.checked = false);
    document.querySelectorAll('label').forEach(label => label.style.backgroundColor = '');
    document.getElementById('result').textContent = '';
    document.getElementById('next-button').style.display = 'none';
}

// Função para verificar a resposta
function verificarResposta() {

    if (clicou !== false) {

    } else {

        clicou = true;
        const pergunta = perguntasDisponiveis[indicePerguntaAtual];
        const respostaSelecionada = document.querySelector('input[name="value-radio"]:checked')?.value;

        if (!respostaSelecionada) {
            return;
        }


        // Verifica se a resposta está correta
        const correto = respostaSelecionada === pergunta.respostaCorreta;
        if (correto) {
            respostasCorretas++;
            document.querySelector(`label[for="option${respostaSelecionada}"]`).style.backgroundColor = 'green';

            if (indicePerguntaAtual === 0){
                acertou(`natalecotec/ligar/faixa/blue`)
            }
            if (indicePerguntaAtual === 1){
                acertou(`natalecotec/ligar/faixa/red`)
            }
            if (indicePerguntaAtual === 2){
                acertou(`natalecotec/ligar/faixa/green`)
            }
            if (indicePerguntaAtual === 3){
                acertou(`natalecotec/ligar/faixa/yellow`)
            }
        } else {
            document.getElementById('result').textContent = 'Resposta Errada!';
            document.querySelector(`label[for="option${respostaSelecionada}"]`).style.backgroundColor = 'red';
            document.querySelector(`label[for="option${pergunta.respostaCorreta}"]`).style.backgroundColor = 'green';
        }

        // Mostrar o botão para ir para a próxima pergunta
        document.getElementById('next-button').style.display = 'inline-block';
    }
}

// Função para ir para a próxima pergunta
function irParaProximaPergunta() {
    indicePerguntaAtual++;
    if (indicePerguntaAtual < 4) {
        exibirPergunta();
    } else {
        document.querySelector('.total').innerHTML = `<h2 class="titulo-final">Você acertou ${respostasCorretas} de ${4} perguntas!</h2>`;
        if (respostasCorretas === 4) {
            acertou(`natalecotec/ligar/faixa/estrela`)
        }
    }
}

// Embaralha as perguntas e exibe a primeira
embaralharPerguntas();
exibirPergunta();

// Adiciona evento para verificar a resposta quando uma opção é selecionada
document.querySelectorAll('input[type="radio"]').forEach(radio => radio.addEventListener('change', verificarResposta));